<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- These directories get expanded to full paths automatically on build -->
  <PropertyGroup>
    <LocalAppDir>$([MSBuild]::NormalizeDirectory($(AppData)\..\Local))</LocalAppDir>
    <MTGOAppDir>$(LocalAppDir)Apps\2.0\*.*\**\mtgo..tion_*</MTGOAppDir>
    <MTGODataDir>$(LocalAppDir)Apps\2.0\Data\**\mtgo..tion_*\Data</MTGODataDir>
  </PropertyGroup>

  <!-- These directories are automatically built for internal use of the SDK -->
  <PropertyGroup>
    <_MTGOSDK_MSBuild_Dir>$(MSBuildThisFileDirectory)\..</_MTGOSDK_MSBuild_Dir>
    <_MTGOSDK_MSBuild>$(_MTGOSDK_MSBuild_Dir)\bin\$(Configuration)\netstandard2.0\MTGOSDK.MSBuild.dll</_MTGOSDK_MSBuild>
    <_MTGOSDK_Refs>$(SolutionDir)dist\$(Configuration)\Reference\MTGO</_MTGOSDK_Refs>
  </PropertyGroup>

  <!--
    FIXME: Workaround for MSBuild not resolving transitive build dependencies.

    This is needed only for full SDK builds, as the main SDK solution does not
    use package references to reference other projects within the solution. As
    a result, MSBuild does not resolve buildTransitive dependencies for any
    imported packages despite requiring this behavior as per the specification.
  -->
  <ItemGroup Condition="'$(UseFullSDKPaths)' == 'true'">
    <_ILMergeConsolePaths Include="$(NuGetPackageRoot)ilmerge\*\tools\net452\ilmerge.exe" />
  </ItemGroup>
  <PropertyGroup Condition="'$(ILMergeConsolePath)' == ''">
    <ILMergeConsolePath>@(_ILMergeConsolePaths->'%(FullPath)')</ILMergeConsolePath>
  </PropertyGroup>

</Project>